<!DOCTYPE html>
<html>
<head>
    <title>Health News</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='resources.css') }}">
    <link rel="stylesheet" href="/static/resources.css" />
{#    <link rel="stylesheet" href="{{ url_for('static', filename='resource.css') }}">#}
    <!-- <link rel="stylesheet" href="{{ url_for('static', filename='resources.css') }}"> -->

</head>
<body>
    <nav class="top-nav">
        <button class="back-button"> <a href="{{url_for('views.index')}}">Home</a></button>
        <a href="{{url_for('views.appointment')}}">Book Appointment</a>
        <a href="{{url_for('views.resource')}}">Resources</a>
    </nav>
    <div class="country-dropdown">
        <label for="country">Choose a Country:</label>
        <select id="country" autocomplete="off">
            <option value="ng">Rwanda</option>
            <option value="za">Kenya</option>
            <option value="ng">Nigeria</option>
            <option value="za">Uganda</option>
            <option value="eg">Ethiopia</option>
        </select>
    </div>
    <div id="newsContainer">
        {% for article in news_articles %}
        <div class="news-article">
            <h3>{{ article.title }}</h3>
            <p>{{ article.description }}</p>
            <p>Source: {{ article.source }}</p>
            <p><a href="{{ article.url }}" target="_blank"><span>Read</span> More</a></p>
        </div>
        {% endfor %}
    </div>
    <button id="fetchButton">Fetch Health News</button>

    <!-- <script>
            document.addEventListener("DOMContentLoaded", () => {
    const countryDropdown = document.getElementById("country");
    const newsContainer = document.getElementById("newsContainer");

    countryDropdown.addEventListener("change", () => {
        const selectedCountry = countryDropdown.value;
        if (selectedCountry) {
            const apiKey = "9ea9960aac454f649e6fa5d78e9343be";
            const apiUrl = `https://newsapi.org/v2/top-headlines?category=health&country=${selectedCountry}&apiKey=${apiKey}`;

            fetch(apiUrl)
                .then(response => response.json())
                .then(data => {
                    // Clear existing content
                    newsContainer.innerHTML = "";

                    // Creates columns for each news article
                    data.articles.forEach(article => {
                        const title = article.title;
                        const description = article.description;
                        const source = article.source.name;
                        const url = article.url;

                        const newsElement = createNewsElement(title, description, source, url);
                        newsContainer.appendChild(newsElement);
                    });
                })
                .catch(error => {
                    console.error("Error fetching data:", error);
                });
        }
    });

    // Function to create a news element
    function createNewsElement(title, description, source, url) {
        const newsElement = document.createElement("div");
        newsElement.classList.add("news-article");
        newsElement.innerHTML = `
            <h3>${title}</h3>
            <p>${description}</p>
            <p>Source: ${source}</p>
            <p><a href="${url}" target="_blank"><span>Read</span> More</a></p>
        `;
        return newsElement;
    }
});


    </script> -->
</body>
</html>
